\documentclass{llncs}   % list options between brackets

\usepackage{color}
\usepackage{graphicx}
%% The amssymb package provides various useful mathematical symbols
\usepackage{amssymb}
%% The amsthm package provides extended theorem environments
%\usepackage{amsthm}
\usepackage{amsmath}

\usepackage{listings}

\usepackage{hyperref}

\usepackage{systeme}

\def\shownotes{1}
\def\notesinmargins{0}

\ifnum\shownotes=1
\ifnum\notesinmargins=1
\newcommand{\authnote}[2]{\marginpar{\parbox{\marginparwidth}{\tiny %
  \textsf{#1 {\textcolor{blue}{notes: #2}}}}}%
  \textcolor{blue}{\textbf{\dag}}}
\else
\newcommand{\authnote}[2]{
  \textsf{#1 \textcolor{blue}{: #2}}}
\fi
\else
\newcommand{\authnote}[2]{}
\fi

\newcommand{\knote}[1]{{\authnote{\textcolor{green}{kushti notes}}{#1}}}

\usepackage[dvipsnames]{xcolor}
\usepackage[colorinlistoftodos,prependcaption,textsize=tiny]{todonotes}


% type user-defined commands here
\usepackage[T1]{fontenc}

\usepackage{flushend}


\newcommand{\bc}{Braid}

\newcommand{\ignore}[1]{} 

\begin{document}

\begin{center}
  \Large\bfseries\boldmath
  \bc{} - Bitcoin and Ergo Double Merge-Mined Sidechain with focus on Stablecoins, RWAs, Bitcoin DeFi
\end{center}

% \title{\bc{} - Bitcoin and Ergo Double Merge-Mined Sidechain with focus on Stablecoins, RWAs, Bitcoin DeFi}
% \author{kushti \\ \href{mailto:kushti@protonmail.ch}{kushti@protonmail.ch}}
% \maketitle

% \begin{abstract}
% \end{abstract}

\section{Introduction}

While disconnected from reality financial games, such as memecoins, still present, we clearly see solid emergent trends around utilizing 
blockchain-based assets for the needs of the real world:

\begin{itemize}
\item{} the most known blockchain-based asset, Bitcoin, is going into different corporate and national reserves. However, there Bitcoin becomes just another assets on the sheet for traditional financial schemes. There are attempts to build decentralized financial (DeFi) tooling on Bitcoin, and it was one of the biggest trends of 2024. There are two main directions in building DeFi on Bitcoin now: somewhat L2 with EVM, or external dedicated UTXO chain (Ergo, Nervos, Cardano) as execution environment for Bitcoin UTXOs progression, with bitcoins transferred via trustless relays or trustless bridges, such as BitVM-based.

\item{} there is big trend around stablecoins. Many private enterprises, following Tether's success, as well as nation states are starting to issue own stablecoins, there are many efforts on making stablecoin payments seamless, reduce fees to almost zero, and so on. There are even buzzy at the moment announcements of stablecoin oriented blockchains, such as Plasma. 
\end{itemize}

While real-world adoption via different developments following the stated trends is highly positive, and moving forward a financial revolution we dreamed of, the state of developments still can be significantly improved by providing better basis for trust-minimized  Bitcoin DeFi as well as programmable money toolset for stablecoin and real-world assets issuers and users. For that, we propose \bc{}, a blockchain which is oriented towards needs of stablecoins and real-world assets  issuers and users, while also allows for using Bitcoin for collateral in decentralized finance, and having Proof-of-Work security for every block. \bc{} is a double merged-mined sidechain of both Bitcoin and Ergo, using Sigma, Ergo's contractual layer, along with modifications perfectly suitable for stablecoins and other real world assets. This would allow to have:

\begin{itemize}
  \item Proof-of-Work security from the biggest world's computing network (Bitcoin mining)
  \item Fees payable in any asset (you can even send gold-pegged tokens and pay in USD token, if there is option to swap USD for native token)
  \item Ready-made liqudity solutions since day one (!), such as bridges with Bitcoin, Ethereum, Binance Smartchain, Cardano
  \item Two-way trustless pegging with Ergo blockchain since day one
  \item Trustless (BitVM based, later BIP300/301 based maybe) bridge with Bitcoin
  \item RGB-like programmability on top of Bitcoin blockchain metadata
  \item Ready-made applications, such as AMM DEXes, orderbook DEXes, decentralized auctions, bonds, lending pools etc
  \item Regulatory sandboxing and compliance granularity, for example, to isolate jurisdiction-specific stablecoins, or shape real world assets usage with tailored compliance
  \item Compliance granularity may be combined with privacy
  \item Innovative algorithmic stablecoin designs, and insurance contracts, where algorithmic assets can insure non-delivery risks for tokenized real-world assets
  \item High performance: PoW secured blocks every few seconds
\end{itemize}

In short, \bc{} is a solarpunk made to extreme: you can define precise usage rules for your token, to make it conform with any views of yours, and have any degree of control. However, other parties may do the same on the same chain. Different monetary circuits could be totally isolated. However, you can dictate in your own circuit only, others are not under your control.

For such setting, minimal trust assumptions are needed. That is why we have chosen double merged mined Bitcoin and Ergo sidechain, which is allowing to have Proof-of-Work security for every block, along with fast blocks. 


\section{Design}
\label{sec-design}

Here we are going to provide high-level overview of \bc{} design. Technical details can be found in Section~\ref{sec-techdetails}. 


\subsection{Consensus}

The main motivation for consensus is to have quick blocks, have most secure, simple, efficient consensus, so Proof-of-Work. Following ideas from such designs as Prism, TailStorm, Leios and sub-blocks in Ergo, we have ordering and input blocks here. Ordering blocks are committed on the Bitcoin blockchain using merge-mined sidechain standards~\cite{bitcoinmm}.

\subsection{Programmable Money}
\subsection{Global Transfer Policies}


\section{Competition}
\label{sec-competition}


There are some attempts to build stablecoin and RWA focused blockchains, such as Tron and Plasma. However, usually they are just EVM chains with some features, like gasless transfers, implemented. Also, there are some attempts to build 

Here we propose a comprehensive set of solutions to Bitcoin DeFi, stablecoins, RWAs,
compliance granularity, precisely defined monetary circuits and so on.  

\bc{} is offering multi-layered set of solution for both Bitcoin DeFi and stablecoins and RWA. Unmatched support for money programmability allows stablecoin and RWA issuers to define rules of usage precisely. Trustless BTC pegging along with RGB like programmability allows for different kind of DeFi tooling for Bitcoin, including issuing trustless Bitcoin-backed derivatives. 


\section{Team}
\label{sec-team}

We have team of people participated in creation of such blockchains and blockchain projects as NXT (top3 CMC back then), Chainlink (top 20),
 Cardano (top 10), Waves (top 20 back then), Ergo (top 100 in 2021), and so on.


\section{Tokenomics and Liquidity}
\label{sec-tokenomics}

\knote{to be decided later}



\section{Technical Details}
\label{sec-techdetails}

\subsection{Consensus Layer}

We have two kinds of blocks, Bitcoin-merged and Ergo-merged.

For Bitcoin-merged, header contains Bitcoin header plus digest of AVL+ tree committing to the FULL Bitcoin UTXO set (including OP\_RETURN UTXOS) (at what time?), and reference to last seen Ergo-merged block. Difficulty for Bitcoin header is set to normal Bitcoin block difficulty, so only Bitcoin full block accounted for in Braid (not a mining share with lower difficulty like in). Proof of inclusion of Braid data into Bitcoin block is submitted by Bitcoin miner along with the header to Braid network.

For Ergo-merged, header contains Ergo header, reference to last-seen Bitcoin-merged block. Difficulty for Ergo header is set to input-block difficulty, so every input-block is accounted for in Braid. 


\subsection{Transactional Layer}

Bitcoin Script was initial experiment in programmable money, which, unfortunately, got stuck too early. Ethereum started from disagreement
within Bitcoin community but followed completely different paradigm of "smart" contracts, which is not quite feasible for building monetary circuits. Ergo launch in 2019 marked revival and start of new epoch in programmable power, with the same UTXO approach as in Bitcoin, but much more powerful programmability, and support for some cryptographic protocols as applications (see "ErgoScript, a Cryptocurrency Scripting Language Supporting Noninteractive Zero-Knowledge Proofs" whitepepaer).

In short, contractually-wise, Ergo is about:

* UTXO model. A transaction has potentially many inputs and outputs. We unify those entities in Ergo, so say that a transaction is creating some boxes and eliminates some boxes. A current state of the network then is a set of active boxes then. 
* Registers: each box is made of registers (and registers only), where a register contains a typed value. There are registers with predefined values, such as locking script, monetary value, natively supported tokens, reference to transaction where the box was created. In addition to four predefined registers, there could be up to six registers with arbitrary values.


\subsubsection{Global Transfer Policies}

In Braid, we want to augment Ergo contractual capabilities with Global Transfer Policies, set of contracts and limitation for a box, which may be propagated via transactions.

A Global Transfer Policy is set in a box, which needs to have a special NFT for identification. A policy box has locking script, like every box, which is allowing to change policies as well as locking script itself. A policy box should also have following registers:

\begin{itemize} 
 \item R4 - spending policy - any computation (getting the same context avaiable to a locking script, aside of mining pubkey and votes). Should return true or false. If true, the box may be spent, otherwise, not. 
 \item R5 - propagation policy - also computation - returns number of inputs which should have the same policy
\end{itemize}

Then we add another special register in Braid, and this register may contain multiple NFT ids. Boxes with such NFTs must be provided as read-only inputs of a transaction. An input can be spent if for all of its policies spending and propagation sub-policies satisfied.



Global Transfer Policies may have multiple use cases:

\begin{itemize}
\item a stablecoin issuer may use them to have black list or even white list. White list can be anonymized, by having stealth address like hiding in the white list
\item there could be very flexible policies  
\item they can be used to build different forms of Islamic Finance systems etc
\end{itemize}

\subsubsection{RGB++}

As commitment for Bitcoin UTXO set is available in applications, we can make contracts prescribed by commitments on the Bitcoin blockchain  written into OP\_RETURN attachments. This is similar to RGB and RGB++ protocols. Here we have minimal trust assumptions for such protocols.

\subsubsection{Ergo Applications}

With possibility to trustlessly bring Bitcoin to \bc{} and back, all the application from Ergo blockchains can be freely deployed on \bc{}~(as they are open-sourced and under permissive license mostly).


\newpage
\bibliography{sources}
\bibliographystyle{ieeetr} 

\end{document}
